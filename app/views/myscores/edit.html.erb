<%#= form_tag (myscore_path(current_user.user_score.id), method: "patch") do %>
<%#= form_tag ({controller: :myscores, action: :update}, method: "patch") do %> 

<%# flash errors for scores %>
<%= render partial: 'layouts/scores_errors' %>


<%# binding.pry %>

<%= form_for @myscore, url: {action: 'update'} do |f|%>

  <%= f.fields_for :scores do |s| %>
    <%# @subjects.each do |subject| %>
      <div class="field">
        <%# binding.pry %>
        <%= s.label :value, s.object.subject.key, class: "control-label" %>
        <%= s.text_field :value, size: 8, class: "form-control" %>
        <%= s.label :registered, t('view.notregistered'), class: "control-label" %>
        <% if s.object.registered %>
          <%= s.check_box :registered, {checked: false}, checked_value = "false", unchecked_value = "true" %>
        <% else %>
          <%= s.check_box :registered, {checked: true}, checked_value = "false", unchecked_value = "true" %>
        <% end %>

        <%= s.hidden_field :subject_id, value: s.object.subject.id %>
      </div>
    <%# end %>
  <% end %>

  <%= f.submit "点数更新" %>
<% end %>


