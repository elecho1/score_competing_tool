<%#= form_tag (myscore_path(current_user.user_score.id), method: "patch") do %>
<%#= form_tag ({controller: :myscores, action: :update}, method: "patch") do %> 


<h2>点数更新</h2>

<%# flash errors for scores %>
<%= render partial: 'layouts/scores_errors' %>

<%= form_for @myscore, url: {action: 'update'}, html: {class:"form-horizontal"} do |f|%>

  <%= f.fields_for :scores do |s| %>
    <%# @subjects.each do |subject| %>
      <div class="form-group">
        <%# binding.pry %>
        <%= s.label :value, s.object.subject.key, class: "control-label col-xs-6 col-sm-4" %>
        <div class="col-xs-6 col-sm-2">
        <%= s.text_field :value, size: 8, class: "form-control", placeholder: "点数" %>
        </div>
        <div class="col-xs-6 col-xs-offset-6 col-sm-6 col-sm-offset-0">
        <%= s.label :registered, t('view.notregistered'), class: "control-label" %>
        <% if s.object.registered %>
          <%= s.check_box :registered, {checked: false}, checked_value = "false", unchecked_value = "true" %>
        <% else %>
          <%= s.check_box :registered, {checked: true}, checked_value = "false", unchecked_value = "true" %>
        <% end %>
        </div>

        <%= s.hidden_field :subject_id, value: s.object.subject.id %>
      </div>
    <%# end %>
  <% end %>

  <%= f.submit "点数更新" %>
<% end %>


